# 选择和循环
# if-then语句
1. bash中的选择结构有很多内容但是限于篇幅，我们只介绍一种基本的句型。
2. if语句的基本格式如下
    >```
    >if command
    >then
    >commands
    >fi
    >```
    其中的command表示一个命令，commands表示一系列命令。如果command的执行结果为true，执行commands。
3. 在交互式环境下，输入`if command`然后回车并不会立即执行。bash会等待用户进一步的输入。
4. 也可以把一个if语句放到一行内。（then和commands之间,commands和fi之间的分号或者换行可以省略。）例如`if ls /bin;then echo 'ls done' fi`。
5. 把上一条中的`/bin`换成不存在的文件夹，echo语句就不会执行。
## test命令和条件表达式
1. test命令可以根据其后的参数条件，改变自身的退出状态码。从而用于if语句中需要判断复杂条件的情况。
2. 为了使得代码更简洁易懂，bash中允许使用`[`代替test。实际上就是把要判断的表达式放到方括号内。例如`if [ $var1 -eq $var2 ];then echo 'equal' ;fi`。
3. 上一条例子中的`-eq`是test命令参数。表示比较前后两个变量是否相等。更多的指令请参考手册说明。
4. test除了能比较数值，还能比较字符串，检测文件状态（例如检测文件是否存在，是否可以读写等）。在此不展开，请参考手册。
5. 使用方括号的时候额外注意。bash中的变量基本上相当于宏替换，如果没有空格隔开，bash会把括号和紧挨着的变量作为一个标识符处理。
6. 方括号条件表达式之间，可以用`&&`或者`||`链接表示逻辑与、或运算。也可以和true、false命令的返回值运算。例如`if [ $var1 -eq $var2 ] && [ $var2 -eq $var3 ] ; then echo 'equal' ;fi`。
7. 如果需要更复杂的比较功能，可以使用双圆括号或双方括号括起的表达式。但是在此不做展开。
## 多分支选择
1. 遇到多分支选择可以使用case命令。
2. case后接变量，而不是命令。通过变量模式匹配确定执行哪个分支结构。
3. 由于case又是一套新的语法规则，这里不详细展开。
## 循环结构
1. bash当中有多种循环结构可供选择。但是它们的语法一点都不统一。
2. while后加条件表达式，这个表达式同if语句中的表达式。然后用do和done标记循环体始终。
3. until类似于while，但是它是直到型循环。
4. for循环语句则有两种风格，一种类似于C语言中的for语句，一种则类似于python的for或者C#的foreach。
5. 和其他语言类似，有break和continue两个命令可以控制循环的执行。
## 总结
1. 总得来说，bash中的结构语句复杂且混乱。和其他编程语言的习惯有很大出入。因此个人建议能用其他类型脚本处理的问题尽量不适用bash处理。