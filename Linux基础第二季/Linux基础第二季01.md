# 01 bash基础
## 关于包依赖
1. 这一季介绍的工具不再拘泥于busybox的集成。大致上以包为单位进行介绍。
2. 在本系列中不会详细介绍各个包的依赖关系。但是在《太玄的工具包》系列会对每个包的依赖关系做一个交代。
3. 不管是在我的哪个系列，涉及到包依赖关系的，如果不特殊说明，都是参考Arch官网的包依赖。
4. 另外，我尽量不强调硬件平台。介绍的包大都是全平台通用或者各个平台的版本都有。遇到必须指定一个硬件平台的情况，一般我会用x86_64架构。
## 启动bash
1. 为了承接上一季的内容首先复习一下bash。顺便扩充一些新内容。
2. bash命令启动bash。虽然这个命令可以接受很多参数，但是一般用不到这些参数。
3. 进入bash后`$`或者`#`之前的内容为shell提示符。在其后输入命令，回车执行。
4. 要想退出bash就输入内置命令exit，然后回车执行。
## 部分内置命令
1. help后接内置命令名作为参数，可以查看内置命令的帮助信息。当然help本身也是一个内置命令。不加参数的help会输出一个bash命令的简单格式说明，由BNF写成。其中的方括号表示可选，花括号表示可重复。
2. type后接命令名作为参数。可以查看命令类型、命令对应可执行文件位置等信息。
3. alias用于创建命令别名。unalias用于删除命令别名。
4. builtin后接内置命令名作为参数。执行该内置命令。如果你把一个内置命令名当作了其他命令的别称。那么使用builtin可以区分两者。
5. cd用于切换当前路径。pwd用于显示当前位置的完整路径。
6. history用于显示bash命令输入历史。
7. umask用于修改默认文件权限。
8. 更多内置命令将在后续介绍。如有介绍不到的，请参考man手册或者官网文档。
## 自动补全
1. 在输入命令的时候，如果只键入了部分的命令名，参数后，按TAB键将会自动补全命令或参数。
2. 当有多个可能的匹配项目时，连续按两下TAB键，就会显示所有备选项目。
3. 使用compgen、complete、compopt三个命令可以编写自己的自动补全匹配规则。但是由于这本身就可以独立算作一门小语言，在此不做详细介绍。
4. 已经有人编写了很多自动补全规则的shell脚本。之前介绍的可选功能拓展包bash-completion就是其中之一。其中预编写了许多自动补全匹配规则。
## 部分快捷键
1. 光标左右移动，删除字符，删除行，粘贴等大部分快捷键同emacs。
2. emacs用于上下移动光标的快捷键在bash中用于翻找命令输入记录。
3. TAB键尝试自动不全参数或者命令。
4. C-l清屏。
5. 以上介绍的是bash处于emacs模式时的快捷键。vi模式会不同。要把bash设置为vi模式，需要用到set命令。
6. 使用快捷键就是在调用bash内置的函数来实现功能。
7. 更多关于快捷键和内置函数的内容请参考man手册或者官网文档。
