# 04 变量进阶
## 数组
1. bash中的数组类似Lua中的数组。名为数组，但是由于不区别数据类型，可以动态变化，事实上可以替代各种结构体，用于构造各种数据结构。
2. 用赋值的方法定义数组，就将数组元素放到一对圆括号里，不同元素用空格隔开：
    >```
    >myVar=(one two three 'hello bash')
    >```
3. 直接用数组名，是指数组的0号元素：
    >```
    >echo $myVar
    >```
4. 要使用其他元素需要用方括号和下标指明。不过在bash中还得再用花括号和美元符号表明这整体表示一个变量：
    >```
    >echo ${myVar[2]}
    >```
5. 显示整个数组，用`*`放在数字的位置。
    >```
    >echo ${myVar[*]}
    >```
6. 可以使用unset删除数组中的某个元素，但是这只相当于把这个元素赋值为空。后边的元素并不会因为这个元素被删除，自动补上来（下标不变）。
    >```
    >unset myVar[2]
    >echo ${myVar[2]}
    >echo ${myVar[3]}
    >```
7. 再补充一下，unset后直接接数组名，会删除整个数组。要删除数组零号元素需要加方括号和下标。
8. readarray命令类似read，但是它会读入一个数组。每次回车都会为数组创建一个新的元素。键入EOF（文件结尾标识符）后停止读入。
9. 一般使用快捷键C-d键入EOF。EOF只是这个符号的名称，直接按“EOF”这几个字母无效。
## 环境变量
1. 环境变量是一组由bash定义的变量。用于设置bash的功能。
2. 可以通过`help variables`命令查看bash提供的环境变量的帮助信息。（variables只是一个帮助手册的章节，而不是命令名。）
3. 不带参数的set指令一般用来查看环境变量的值和bash内置的一些脚本函数。
4. 查看或使用个别环境变量和普通变量一样：
    >```
    >echo $HOME
    >ls $HOME
    >```
5. 环境变量也有局部和全局之分。
6. 接下来以PATH变量为例说明。PATH变量用于记录可执行程序所在路径。在PATH保存路径下的可执行文件，输入文件名就能直接执行。否则只能以路径方式执行。比如一个可执行文件myFile放在自己的home文件夹。即使当前路径就在home，也需要用`./myFile`执行（注意文件权限）。
7. 自己的home文件路径保存于HOME变量。以下命令将home路径添加到PATH。
    >```
    >PATH=$PATH:$HOME
    >```
    然后就可以直接输入home下的文件名执行了。
8. bash的变量在bash退出之后就消失。同样对环境变量所做的修改在重启bash后也会失效。
9. 如果要是修改持久化，就需要修改启动文件。关于bash的启动文件，下一期再做介绍。
## 特殊变量
1. 除了环境变量还有所谓的特殊变量（Special Parameters）。特殊变量用于表示一些与shell进程相关的信息。
2. 特殊变量只能读不能写。
3. 特殊变量名都是一些特殊符号。如$表示当前进程PID等。引用的时候也要加美元符号`echo $$`。

